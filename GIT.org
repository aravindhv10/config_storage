* Script to do all the stuff

** Message to commit
#+begin_src conf :mkdirp yes :tangle ./GIT/message.txt
  More work on new emacs config
#+end_src

** Add git stuff
#+begin_src sh :shebang #!/bin/sh :results output :mkdirp yes :tangle ./GIT/work.sh
  sed 's@^@(git add "./@g ; s@$@");@g' './GIT/git_add.txt' | sh &
  sed 's@^@(rm -vf -- "./@g ; s@$@");@g' './GIT/rm.txt' | sh &
  sed 's@^@/@g' './GIT/rm.txt' > './.gitignore'
  cat './GIT/gitignore.txt' >> './.gitignore'
  wait
  git status
#+end_src

** Pull
#+begin_src sh :shebang #!/bin/sh :results output :mkdirp yes :tangle ./GIT/pull.sh
  "${HOME}/SSH/KEYS/PERSONAL_LAPTOP_PERSONAL_GITHUB//setup.sh"
  git pull
  git status
#+end_src

** Commit and push
#+begin_src sh :shebang #!/bin/sh :results output :mkdirp yes :tangle ./GIT/commit_and_push.sh
  git commit -m "$(cat './GIT/message.txt')"
  "${HOME}/SSH/KEYS/PERSONAL_LAPTOP_PERSONAL_GITHUB//setup.sh"
  git push
#+end_src

** git add
#+begin_src conf :mkdirp yes :tangle ./GIT/git_add.txt
  emacs_new/bindings.el
  emacs_new/.emacs.d/early-init.el
  emacs_new/.emacs.d/init.el
  emacs_new/functions.el
  emacs_new/get_packages.sh
  emacs_new/hooks.el
  emacs_new/main.el
  emacs_new/modes.el
  emacs_new/paths.el
  emacs_new/README.org
  emacs_new/requires.el
  emacs_new/setup.sh
  emacs_new/variables.el
  emacs_new/variables_post.el
  .gitignore
  GIT.org
  home_config/src/main.rs
  nixos/SYSTEM/configuration.nix
  nixos/SYSTEM/hardware-configuration.nix
  nixos/SYSTEM/README.org
#+end_src

** rm
#+begin_src conf :mkdirp yes :tangle ./GIT/rm.txt
  application_shortcut_scripts/README.org~
  BitNet/main.org~
  cargo/README.org~
  debootstrap/#README.org#
  debootstrap/README.org~
  dnsmasq/README.org~
  emacs.d/early-init.el~
  emacs.d/.early-init.el.~undo-tree~
  emacs.d/#init.el#
  emacs.d/.#init.el
  emacs.d/init.el~
  emacs.d/.init.el.~undo-tree~
  emacs.d/#init.org#
  emacs.d/.#init.org
  emacs.d/init.org~
  emacs.d/.init.org.~undo-tree~
  emacs.d/.#projectile-bookmarks.eld
  emacs.d/snippets/c++-mode/mycl~
  emacs.d/snippets/c++-mode/.mycl.~undo-tree~
  emacs.d/snippets/org-mode/conf~
  emacs.d/snippets/org-mode/.conf.~undo-tree~
  emacs.d/snippets/org-mode/.figure.~undo-tree~
  emacs.d/snippets/org-mode/.html.~undo-tree~
  emacs.d/snippets/org-mode/.image.~undo-tree~
  emacs.d/snippets/org-mode/.img.~undo-tree~
  emacs.d/snippets/org-mode/.include.~undo-tree~
  emacs.d/snippets/org-mode/.ipython.~undo-tree~
  emacs.d/snippets/org-mode/.keywords.~undo-tree~
  emacs.d/snippets/org-mode/.language.~undo-tree~
  emacs.d/snippets/org-mode/.link.~undo-tree~
  emacs.d/snippets/org-mode/.matrix.~undo-tree~
  emacs.d/snippets/org-mode/nu~
  emacs.d/snippets/org-mode/.options.~undo-tree~
  emacs.d/snippets/org-mode/py~
  emacs.d/snippets/org-mode/python~
  emacs.d/snippets/org-mode/.python.~undo-tree~
  emacs.d/snippets/org-mode/.py.~undo-tree~
  emacs.d/snippets/org-mode/.quote.~undo-tree~
  emacs.d/snippets/org-mode/.rv_background.~undo-tree~
  emacs.d/snippets/org-mode/.rv_image_background.~undo-tree~
  emacs.d/snippets/org-mode/.setup.~undo-tree~
  emacs.d/snippets/org-mode/sh~
  emacs.d/snippets/org-mode/.sh.~undo-tree~
  emacs.d/snippets/org-mode/.src.~undo-tree~
  emacs.d/snippets/org-mode/.style.~undo-tree~
  emacs.d/snippets/org-mode/.verse.~undo-tree~
  emacs.d/snippets/org-mode/.video.~undo-tree~
  emacs_new/README.org~
  fish_config/.config.fish.~undo-tree~
  fish_config/#README.org#
  fish_config/.#README.org
  fish_config/README.org~
  fish_config/.README.org.~undo-tree~
  flatpak_emacs/.README.org.~undo-tree~
  foot/foot.org~
  ..gitmodules.~undo-tree~
  GIT.org~
  helix/README.org~
  #main.org#
  .#main.org
  .main.org.~undo-tree~
  README.org~
  RUST/#compile.org#
  RUST/.#compile.org
  RUST/compile.org~
  RUST/.compile.org.~undo-tree~
  TMUX/tmux.dir/#configopts#
  TMUX/tmux.dir/.#configopts
  TMUX/tmux.dir/main.org~
  TMUX/tmux.dir/.main.org.~undo-tree~
  wayfire_config/do_copy.sh~
  wayfire_config/README.org~
  wayfire_config/tmp.ini
  wayfire_config/tmp.sh
  wayfire_config/tmux-client-7519.log
  wayfire_config/.#wayfire.ini
  wezterm/README.org~
  wireguard_scripts/README.org~
  wrapper_code/a.out
  wrapper_code/cc/cc.org~
  wrapper_code/cc/#main.org#
  wrapper_code/cc/.#main.org
  wrapper_code/cxx/cc.org~
  wrapper_code/cxx/#main.org#
  wrapper_code/cxx/.#main.org
  wrapper_code/cxx/main.org~
  wrapper_code/default.nix~
  wrapper_code/emacs_server/main.c~
  wrapper_code/emacs_server/main.cc~
  wrapper_code/emacs_server/main.org~
  wrapper_code/foot_server/main.c~
  wrapper_code/foot_server/main.cc~
  wrapper_code/foot_server/main.org~
  wrapper_code/#mysync.c#
  wrapper_code/#mysync.org#
  wrapper_code/.#mysync.org
  wrapper_code/mysync.org~
  wrapper_code/.wrapper.c.~undo-tree~
  wrapper_code/wrapper.exe
  wrapper_code/#wrapper.org#
  wrapper_code/.#wrapper.org
  wrapper_code/wrapper.org~
  zellij_flatpak_wrapper/#main.org#
  zellij_flatpak_wrapper/main.org~
#+end_src

** ignore
#+begin_src conf :mkdirp yes :tangle ./GIT/gitignore.txt
  add_elpaca_submodules.sh
  add_rust_submodules.sh
  dockerfiles/AMDGPU_PYT/0_base/build/
  dockerfiles/AMDGPU_PYT/0_base/important_functions.sh
  dockerfiles/AMDGPU_PYT/5_libtorch/build/
  dockerfiles/AMDGPU_PYT/5_libtorch/important_functions.sh
  dockerfiles/AMDGPU_PYT/6_pytorch/build/
  dockerfiles/AMDGPU_PYT/6_pytorch/deb_mirror/
  dockerfiles/AMDGPU_PYT/6_pytorch/home_config/
  dockerfiles/AMDGPU_PYT/6_pytorch/important_functions.sh
  dockerfiles/AMDGPU_PYT/6_pytorch/run_rocm.sh
  dockerfiles/AMDGPU_PYT/6_pytorch/tmp.rs
  dockerfiles/AMDGPU_PYT/6_pytorch/XANMOD/
  dockerfiles/CPU/3_good_setup/run_cpu.sh
  dockerfiles/CPU/3_good_setup/RUST_CAMERA/
  emacs.d/.lsp-session-v1
  emacs.d/projectile-bookmarks.eld
  emacs.d/recentf
  emacs.d/tmp.el
  emacs.d/transient/
  git_add.txt
  GIT/commit_and_push.sh
  GIT/git_add.txt
  GIT/gitignore.txt
  gitignore.txt
  GIT/message.txt
  GIT/rm.txt
  GIT/work.sh
  home_config/Cargo.lock
  home_config/target/
  kde_shortcuts/applications/#README.org#
  kde_shortcuts/scripts/README.org~
  launcher_script_template/scripts/main.org~
  main.org~
  nixos/.config/dconf/
  nixos/.config/kwalletrc
  nixos/.config/pulse/
  nixos/.config/session/
  nixos/#configuration.nix#
  nixos/HOME/main.org~
  rm.txt
  RUST/bin/
  RUST/compile.el
  RUST/exe/
  scripts/alacritty_master.sh~
  shell_functions/important_functions.org~
  shell_functions/.important_functions.org.~undo-tree~
  starship/copy.sh~
  target/
  wireguard_scripts/privatekey
  wireguard_scripts/publickey
  work.sh
  wrapper_code/result
  wrapper_code/wrapper.el
#+end_src

* work space

** pull
#+begin_src emacs-lisp :results silent
  (async-shell-command "
          './GIT/pull.sh'
      " "log" "err")
#+end_src

** Only add
#+begin_src emacs-lisp :results silent
  (save-buffer)
  (org-babel-tangle)
  (async-shell-command "
          './GIT/work.sh'
      " "log" "err")
#+end_src

** Commit and push
#+begin_src emacs-lisp :results silent
  (save-buffer)
  (org-babel-tangle)
  (async-shell-command "
          './GIT/work.sh'
          './GIT/commit_and_push.sh'
      " "log" "err")
#+end_src
